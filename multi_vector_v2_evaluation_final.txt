================================================================================
MULTI-VECTOR RETRIEVAL V2 - EVALUATION
================================================================================

Approach: Query Deconstruction → Multi-Vector Search → LLM Reranking
This ensures balanced recommendations (technical + behavioral tests)

✓ Loaded Multi-Vector Retriever V2
  - 353 assessments
  - Gemini embeddings (3072-dim)
  - Query deconstruction + LLM reranking enabled

================================================================================
RUNNING EVALUATION ON TRAINING SET
================================================================================

[Query 1/10]
Ground Truth: 5 assessments

================================================================================
Query: I am hiring for Java developers who can also collaborate effectively with my business teams. Looking...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 3 search queries:
    1. Java developer technical skills programming
    2. collaboration communication business teams
    3. 40 minutes assessment duration

[Step 2] Running semantic searches for each facet...
  Search 1/3: 'Java developer technical skills programming'
  Search 2/3: 'collaboration communication business teams'
  Search 3/3: '40 minutes assessment duration'

  Merged 30 unique candidates from 3 facets
  Distribution: {1: 10, 2: 10, 3: 10}

[Step 3] LLM re-ranking 30 candidates to select top 10...
  Final top-10 distribution: {1: 6, 2: 2, 3: 2}

================================================================================

✓ Recall@10: 60.00%
  Waiting 2s before next query...

[Query 2/10]
Ground Truth: 9 assessments

================================================================================
Query: I want to hire new graduates for a sales role in my company, the budget is for about an hour for eac...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 4 search queries:
    1. sales representative entry-level
    2. communication persuasion negotiation skills
    3. new graduate hiring assessment
    4. sales aptitude assessment time limit

[Step 2] Running semantic searches for each facet...
  Search 1/4: 'sales representative entry-level'
  Search 2/4: 'communication persuasion negotiation skills'
  Search 3/4: 'new graduate hiring assessment'
  Search 4/4: 'sales aptitude assessment time limit'

  Merged 32 unique candidates from 4 facets
  Distribution: {1: 10, 2: 5, 3: 10, 4: 7}

[Step 3] LLM re-ranking 32 candidates to select top 10...
  Final top-10 distribution: {1: 5, 2: 2, 4: 3}

================================================================================

✓ Recall@10: 33.33%
  Waiting 2s before next query...

[Query 3/10]
Ground Truth: 6 assessments

================================================================================
Query: I am looking for a COO for my company in China and I want to see if they are culturally a right fit ...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 10 search queries:
    1. COO leadership management China
    2. cultural fit assessment organizational alignment
    3. strategic planning business acumen
    4. financial oversight budgeting
    5. operations management efficiency
    6. team leadership team building
    7. decision-making problem-solving
    8. communication negotiation skills
    9. China business environment understanding
    10. one hour assessment completion

[Step 2] Running semantic searches for each facet...
  Search 1/10: 'COO leadership management China'
  Search 2/10: 'cultural fit assessment organizational alignment'
  Search 3/10: 'strategic planning business acumen'
  Search 4/10: 'financial oversight budgeting'
  Search 5/10: 'operations management efficiency'
  Search 6/10: 'team leadership team building'
  Search 7/10: 'decision-making problem-solving'
  Search 8/10: 'communication negotiation skills'
  Search 9/10: 'China business environment understanding'
  Search 10/10: 'one hour assessment completion'

  Merged 61 unique candidates from 10 facets
  Distribution: {1: 10, 2: 7, 3: 3, 4: 7, 5: 9, 6: 5, 7: 5, 8: 7, 9: 3, 10: 5}

[Step 3] LLM re-ranking 61 candidates to select top 10...
  Final top-10 distribution: {1: 2, 2: 3, 4: 1, 5: 1, 7: 1, 8: 2}

================================================================================

✓ Recall@10: 50.00%
  Waiting 2s before next query...

[Query 4/10]
Ground Truth: 5 assessments

================================================================================
Query: KEY RESPONSIBITILES:

Manage the sound-scape of the station through appropriate creative and marketi...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 7 search queries:
    1. Radio station management brand marketing
    2. Digital content conceptualization branding
    3. Talent acquisition, development, and management
    4. Interpersonal communication people management
    5. Mid-level 8-12 years experience
    6. General knowledge current events
    7. English language proficiency

[Step 2] Running semantic searches for each facet...
  Search 1/7: 'Radio station management brand marketing'
  Search 2/7: 'Digital content conceptualization branding'
  Search 3/7: 'Talent acquisition, development, and management'
  Search 4/7: 'Interpersonal communication people management'
  Search 5/7: 'Mid-level 8-12 years experience'
  Search 6/7: 'General knowledge current events'
  Search 7/7: 'English language proficiency'

  Merged 60 unique candidates from 7 facets
  Distribution: {1: 10, 2: 5, 3: 9, 4: 7, 5: 9, 6: 10, 7: 10}

[Step 3] LLM re-ranking 60 candidates to select top 10...
  Final top-10 distribution: {1: 6, 3: 1, 2: 1, 4: 2}

================================================================================

✓ Recall@10: 40.00%
  Waiting 2s before next query...

[Query 5/10]
Ground Truth: 5 assessments

================================================================================
Query: Content Writer required, expert in English and SEO....
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 2 search queries:
    1. Content Writer English writing SEO
    2. creativity communication skills

[Step 2] Running semantic searches for each facet...
  Search 1/2: 'Content Writer English writing SEO'
  Search 2/2: 'creativity communication skills'

  Merged 17 unique candidates from 2 facets
  Distribution: {1: 10, 2: 7}

[Step 3] LLM re-ranking 17 candidates to select top 10...
  Final top-10 distribution: {1: 8, 2: 2}

================================================================================

✓ Recall@10: 60.00%
  Waiting 2s before next query...

[Query 6/10]
Ground Truth: 9 assessments

================================================================================
Query: Find me 1 hour long assesment for the below job at SHL
Job Description

 Join a community that is sh...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 5 search queries:
    1. QA Engineer Java JavaScript CSS HTML
    2. QA Engineer Selenium WebDriver SQL
    3. QA Engineer test case management manual testing
    4. QA Engineer problem solving communication skills
    5. QA Engineer 1 hour assessment

[Step 2] Running semantic searches for each facet...
  Search 1/5: 'QA Engineer Java JavaScript CSS HTML'
  Search 2/5: 'QA Engineer Selenium WebDriver SQL'
  Search 3/5: 'QA Engineer test case management manual testing'
  Search 4/5: 'QA Engineer problem solving communication skills'
  Search 5/5: 'QA Engineer 1 hour assessment'

  Merged 33 unique candidates from 5 facets
  Distribution: {1: 10, 2: 7, 3: 5, 4: 8, 5: 3}

[Step 3] LLM re-ranking 33 candidates to select top 10...
  Final top-10 distribution: {1: 5, 2: 3, 4: 2}

================================================================================

✓ Recall@10: 77.78%
  Waiting 2s before next query...

[Query 7/10]
Ground Truth: 6 assessments

================================================================================
Query: ICICI Bank Assistant Admin, Experience required 0-2 years, test should be 30-40 mins long...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 2 search queries:
    1. Bank Assistant Admin clerical
    2. entry-level 0-2 years experience

[Step 2] Running semantic searches for each facet...
  Search 1/2: 'Bank Assistant Admin clerical'
  Search 2/2: 'entry-level 0-2 years experience'

  Merged 16 unique candidates from 2 facets
  Distribution: {1: 10, 2: 6}

[Step 3] LLM re-ranking 16 candidates to select top 10...
  Final top-10 distribution: {1: 7, 2: 3}

================================================================================

✓ Recall@10: 0.00%
  Waiting 2s before next query...

[Query 8/10]
Ground Truth: 5 assessments

================================================================================
Query: We're looking for a Marketing Manager who can drive Recro’s brand positioning, community growth, and...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 6 search queries:
    1. Marketing Manager B2B strategy
    2. community growth brand positioning
    3. demand generation events partnerships
    4. strategic thinker execution leader
    5. marketing team leadership management
    6. developer community experience 5+ years

[Step 2] Running semantic searches for each facet...
  Search 1/6: 'Marketing Manager B2B strategy'
  Search 2/6: 'community growth brand positioning'
  Search 3/6: 'demand generation events partnerships'
  Search 4/6: 'strategic thinker execution leader'
  Search 5/6: 'marketing team leadership management'
  Search 6/6: 'developer community experience 5+ years'

  Merged 39 unique candidates from 6 facets
  Distribution: {1: 10, 2: 6, 3: 5, 4: 5, 5: 4, 6: 9}

[Step 3] LLM re-ranking 39 candidates to select top 10...
  Final top-10 distribution: {1: 4, 2: 3, 4: 2, 3: 1}

================================================================================

✓ Recall@10: 20.00%
  Waiting 2s before next query...

[Query 9/10]
Ground Truth: 5 assessments

================================================================================
Query: Based on the JD below recommend me assessment for the Consultant position in my organizations. The a...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 9 search queries:
    1. Consultant Industrial Organizational Psychology
    2. talent assessment talent management selection
    3. project planning execution delivery
    4. client facing stakeholder management
    5. data analysis insights communication
    6. collaboration building relationships decision making
    7. creativity innovation adaptability planning
    8. 2+ years experience applied talent assessment
    9. statistical programming SPSS R proficiency

[Step 2] Running semantic searches for each facet...
  Search 1/9: 'Consultant Industrial Organizational Psychology'
  Search 2/9: 'talent assessment talent management selection'
  Search 3/9: 'project planning execution delivery'
  Search 4/9: 'client facing stakeholder management'
  Search 5/9: 'data analysis insights communication'
  Search 6/9: 'collaboration building relationships decision making'
  Search 7/9: 'creativity innovation adaptability planning'
  Search 8/9: '2+ years experience applied talent assessment'
  Search 9/9: 'statistical programming SPSS R proficiency'

  Merged 57 unique candidates from 9 facets
  Distribution: {1: 10, 2: 8, 3: 6, 4: 7, 5: 8, 6: 3, 7: 3, 8: 3, 9: 9}

[Step 3] LLM re-ranking 57 candidates to select top 10...
  Final top-10 distribution: {1: 3, 2: 2, 3: 1, 4: 1, 5: 1, 8: 1, 9: 1}

================================================================================

✓ Recall@10: 20.00%
  Waiting 2s before next query...

[Query 10/10]
Ground Truth: 10 assessments

================================================================================
Query: I want to hire a Senior Data Analyst with 5 years of experience and expertise in SQL, Excel and Pyth...
================================================================================

[Step 1] Deconstructing query into search facets...
  Generated 3 search queries:
    1. Senior Data Analyst SQL Excel Python
    2. data analysis problem solving quantitative
    3. senior level 5 years experience

[Step 2] Running semantic searches for each facet...
  Search 1/3: 'Senior Data Analyst SQL Excel Python'
  Search 2/3: 'data analysis problem solving quantitative'
  Search 3/3: 'senior level 5 years experience'

  Merged 29 unique candidates from 3 facets
  Distribution: {1: 10, 2: 9, 3: 10}

[Step 3] LLM re-ranking 29 candidates to select top 10...
  Final top-10 distribution: {1: 4, 2: 4, 3: 2}

================================================================================

✓ Recall@10: 30.00%

================================================================================
FINAL RESULTS
================================================================================

Mean Recall@10: 0.3911 (39.11%)

Per-Query Results:
------------------------------------------------------------
Query 1: 60.00%
Query 2: 33.33%
Query 3: 50.00%
Query 4: 40.00%
Query 5: 60.00%
Query 6: 77.78%
Query 7: 0.00%
Query 8: 20.00%
Query 9: 20.00%
Query 10: 30.00%
------------------------------------------------------------
Mean Recall@10: 39.11%

================================================================================
COMPARISON TO PREVIOUS APPROACHES:
------------------------------------------------------------
Baseline (sentence-transformers):    21.33%
Gemini embeddings only:               25.89%
Current best (Gemini + expansion):    28.67%
Multi-Vector V2 (this run):           39.11%
================================================================================

✓ Predictions saved to: multi_vector_v2_predictions.csv
